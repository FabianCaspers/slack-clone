<div class="chatroom-container">

    <div class="chatroom-header">
        <div class="channel-name-container">
            <mat-icon>tag</mat-icon>
            <p>{{ this.channelService.channelName }}</p>
        </div>
        <div class="channel-settings-container">
            <mat-icon [matMenuTriggerFor]="menu">settings</mat-icon>
            <mat-menu #menu="matMenu">
                <button (click)="openDeleteChannelDialog ()" mat-menu-item>Delete Channel {{
                    this.channelService.channelName }}</button>
            </mat-menu>
        </div>
    </div>

    <div class="chatroom-content">
        <div class="chatroom-content-header" *ngIf="!messages || messages.length === 0">
            <p>{{ getUserFirstname() }}, this is a public channel about <span>{{ this.channelService.channelName
                    }}</span></p>
            <p>Your message can be read by all members.</p>
            <p>Be the first one to say 'hello'!"</p>
        </div>

        <div class="chatroom-content-chat">
            <div class="full-message-container" *ngFor="let message of messages">
                <div class="message-infos-container">
                    <div>
                        <div class="chat-icon" [style.background-color]="getUserColor(message.authorId)">{{ getUserInitialsById(message.authorId) }}
                            <div class="online-dot {{ getUserOnlineStatus(message.authorId) }}"></div>
                        </div>
                    </div>
                    <div class="message-text-container">
                        <p class="time">{{ message.time }} Uhr</p>
                        <p class="message-text">{{ message.messageText }}</p>
                    </div>
                </div>
                <div [matMenuTriggerFor]="menu" class="message-setting-container">
                    <mat-icon>more_vert</mat-icon>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item>Delete this message</button>
                    </mat-menu>
                </div>
            </div>
        </div>

        <div class="chatroom-content-textarea">
            <form [formGroup]="input">
                <div class="chatroom-content-textarea-input"></div>
                <input name="messageText" type="text" placeholder="Nachricht an #{{ this.channelService.channelName }}"
                    formControlName="newMessage">

                <div class="send-btn-container" (click)="sendMessage()">
                    <img class="send-icon" src="../../../assets/img/send-icon.png" alt="">
                </div>
            </form>
        </div>
    </div>
</div>